import{d as x,o as g,u as L,a as y,c as V,_ as v,r as t,b as S,e as $,f as e,w as c,g as a,h as B}from"../index45729.js";import{L as C}from"./Logo45729.js";import{I as P}from"./InputTextWithValidation45729.js";import{_ as W}from"./PasswordWithValidation.vue_vue_type_style_index_0_lang45729.js";import{c as k,a as p,F}from"./vee-validate.esm45729.js";import{s as I,h as _,e as T}from"./helpers45729.js";const E=x({name:"LoginView",setup(){g(()=>{o.clearUser()});const o=L(),m=y(),l=k({email:p().required("L'email è obbligatoria").email("L'email non è valida").label("Email"),password:p().required("La password è obbligatoria").min(8,"La password deve essere di almeno 8 caratteri").label("Password")}),d=V(()=>o.user);return{schema:l,currentUser:d,onSubmit:async function(s,n){const r={email:s.email,password:s.password};I(),await o.login(r).then(async()=>{_(),n.resetForm()}).catch(i=>{_(),T(m,i)})}}},components:{Logo:C,InputTextWithValidation:P,PasswordWithValidation:W,Form:F}});const U={class:"flex justify-content-center align-items-center mt-4 sm:h-screen sm:mt-0 login"},N={class:"m-2 text-center"},j=a("h1",{class:"mb-3 mt-0 text-center"},"Accedi al profilo",-1),q=a("h2",{class:"text-center font-normal mb-3"}," Benvenuto! Inserisci la tua email e la password ",-1),A={class:"w-full flex justify-content-start cursor-pointer text-color-secondary m-0"};function M(o,m,l,d,u,s){const n=t("Logo"),r=t("InputTextWithValidation"),i=t("PasswordWithValidation"),h=t("router-link"),f=t("Button"),w=t("Form"),b=t("Card");return S(),$("div",U,[e(b,{class:"py-4 px-3"},{content:c(()=>[a("div",N,[e(n)]),j,q,e(w,{"validation-schema":o.schema,onSubmit:o.onSubmit,class:"flex flex-column"},{default:c(()=>[e(r,{name:"email",label:"Email",type:"text"}),e(i,{name:"password",label:"Password",type:"password"}),a("div",A,[e(h,{to:"/password-dimenticata",class:"text-color-secondary"},{default:c(()=>[B("Password dimenticata?")]),_:1})]),e(f,{label:"Entra",type:"submit",class:"mt-5 mb-3"})]),_:1},8,["validation-schema","onSubmit"])]),_:1})])}const O=v(E,[["render",M]]);export{O as default};
